{
  "workflow": {
    "unique_name": "definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51",
    "name": "New Meraki Setup",
    "title": "New Meraki Setup",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "NMSv2 - Agency ID",
          "type": "datatype.string",
          "description": "Agency ID used to build SSID names.",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUAGENCYID1V0Yg7o6P6tH1uQm7zB8cD9",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "NMSv2 - Agency Full Name",
          "type": "datatype.string",
          "description": "Full agency name used in the organization name.",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUAGENCYFULL2mG7p8R9sT0uV1wX2yZ3a4b5",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "NMSv2 - Agency Short Name",
          "type": "datatype.string",
          "description": "Short agency name used in organization and network naming.",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUAGENCYSHORT3cD4eF5gH6iJ7kL8mN9oP0qR1",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "[{\"site_name\":\"HQ\",\"time_zone\":\"America/Los_Angeles\",\"product_types\":[\"wireless\"]}]",
          "scope": "input",
          "name": "NMSv2 - Sites (JSON Array)",
          "type": "datatype.string",
          "description": "Array of site objects with site_name, time_zone, and product_types.",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUSITES4sT5uV6wX7yZ8aB9cD0eF1",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "[{\"vlan_id\":10,\"vlan_name\":\"Users\",\"subnet\":\"10.0.10.0/24\",\"appliance_ip\":\"10.0.10.1\",\"dhcp_handling\":\"Run a DHCP server\",\"reserved_ip_ranges\":[{\"start\":\"10.0.10.2\",\"end\":\"10.0.10.49\",\"comment\":\"Reserved\"}]}]",
          "scope": "input",
          "name": "NMSv2 - VLANs (JSON Array)",
          "type": "datatype.string",
          "description": "Array of VLAN objects with id, name, subnet, appliance ip, dhcp handling, and reserved ranges.",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUVLANS5fG6hI7jK8lM9nO0pQ1rS2tU",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 0,
          "scope": "local",
          "name": "NMSv2 - Guest SSID Number",
          "type": "datatype.integer",
          "description": "Guest SSID number to configure (0-14).",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUGUESTNUM6fG6hI7jK8lM9nO0pQ1rS2tU",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 1,
          "scope": "local",
          "name": "NMSv2 - Employees SSID Number",
          "type": "datatype.integer",
          "description": "Employees SSID number to configure (0-14).",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUEMPLOYEENUM7vW7xY8zA9bC0dE1fG2hI3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 2,
          "scope": "local",
          "name": "NMSv2 - IoT SSID Number",
          "type": "datatype.integer",
          "description": "IoT SSID number to configure (0-14).",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUIOTNUM8jK8lM9nO0pQ1rS2tU3vW4xY",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "open",
          "scope": "local",
          "name": "NMSv2 - Guest SSID Auth Mode",
          "type": "datatype.string",
          "description": "Guest SSID auth mode.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUGUESTA9zA9bC0dE1fG2hI3jK4lM5nO",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "open",
          "scope": "local",
          "name": "NMSv2 - Employees SSID Auth Mode",
          "type": "datatype.string",
          "description": "Employees SSID auth mode.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUEMPLOYEEA0pQ1rS2tU3vW4xY5zA6bC",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "open",
          "scope": "local",
          "name": "NMSv2 - IoT SSID Auth Mode",
          "type": "datatype.string",
          "description": "IoT SSID auth mode.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUIOTA1qR1sT2uV3wX4yZ5aB6cD7eF",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Click-through splash page",
          "scope": "local",
          "name": "NMSv2 - Guest SSID Splash Page",
          "type": "datatype.string",
          "description": "Guest splash page mode.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUGUESTS2lM4nO5pQ6rS7tU8vW9xY0zA1",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Click-through splash page",
          "scope": "local",
          "name": "NMSv2 - Employees SSID Splash Page",
          "type": "datatype.string",
          "description": "Employees splash page mode.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUEMPLOYEESPLASH3mN5oP6qR7sT8uV9wX0yZ1aB2",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "Click-through splash page",
          "scope": "local",
          "name": "NMSv2 - IoT SSID Splash Page",
          "type": "datatype.string",
          "description": "IoT splash page mode.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUIOTSPLASH4pQ6rS7tU8vW9xY0zA1bC2dE3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.boolean",
        "properties": {
          "value": true,
          "scope": "local",
          "name": "NMSv2 - Guest SSID Visible",
          "type": "datatype.boolean",
          "description": "Whether the Guest SSID is visible.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUGUESTV5tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.boolean",
        "properties": {
          "value": true,
          "scope": "local",
          "name": "NMSv2 - Employees SSID Visible",
          "type": "datatype.boolean",
          "description": "Whether the Employees SSID is visible.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUEMPLOYEEVIS6tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.boolean",
        "properties": {
          "value": true,
          "scope": "local",
          "name": "NMSv2 - IoT SSID Visible",
          "type": "datatype.boolean",
          "description": "Whether the IoT SSID is visible.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUIOTVIS7tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "https://ise.portal.example.com/guest",
          "scope": "local",
          "name": "NMSv2 - Guest ISE Portal URL",
          "type": "datatype.string",
          "description": "Guest splash portal URL (ISE).",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUISEURL8tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 1440,
          "scope": "local",
          "name": "NMSv2 - Splash Timeout Minutes",
          "type": "datatype.integer",
          "description": "How often users see the splash page.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUSPLASHTIME9tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.boolean",
        "properties": {
          "value": true,
          "scope": "local",
          "name": "NMSv2 - Block All Traffic Before Sign-On",
          "type": "datatype.boolean",
          "description": "Block all traffic before sign-on.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXUBLOCK10tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "restricted",
          "scope": "local",
          "name": "NMSv2 - Controller Disconnection Behavior",
          "type": "datatype.string",
          "description": "Controller disconnection behavior.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUDISCONNECT11tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "[{\"rf_name\":\"NMSv2 - Indoor RF\",\"rf_ap_tags\":[\"rf_indoor\"]},{\"rf_name\":\"NMSv2 - Outdoor RF\",\"rf_ap_tags\":[\"rf_outdoor\"]}]",
          "scope": "local",
          "name": "NMSv2 - RF Profiles (JSON Array)",
          "type": "datatype.string",
          "description": "Array of RF profiles with names and AP tags.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02SXURFPROFILES12tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "NMSv2 - Organization ID",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUORGID13tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "NMSv2 - Network ID",
          "type": "datatype.string",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02SXUNETID14tU7vW8xY9zA0bC1dE2fG3",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "is_atomic": false
      },
      "delete_workflow_instance": false,
      "display_name": "New Meraki Setup",
      "runtime_user": {
        "target_default": true
      },
      "target": {
        "target_type": "meraki.endpoint",
        "specify_on_workflow_start": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02SXUBUILDNAMES1AaBbCcDdEeFfGgHhIiJj",
        "name": "Execute Python Script",
        "title": "Build Standard Names",
        "type": "python3.script",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "description": "Build organization and SSID names from agency inputs.",
          "display_name": "Build Standard Names",
          "script": "agency_id = $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.input.variable_workflow_02SXUAGENCYID1V0Yg7o6P6tH1uQm7zB8cD9$\nagency_full = $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.input.variable_workflow_02SXUAGENCYFULL2mG7p8R9sT0uV1wX2yZ3a4b5$\nagency_short = $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.input.variable_workflow_02SXUAGENCYSHORT3cD4eF5gH6iJ7kL8mN9oP0qR1$\n\norg_name = f\"{agency_full} ({agency_short})\" if agency_short else agency_full\n\nguest_ssid_name = f\"{agency_id}-GUEST\"\nemployee_ssid_name = f\"{agency_id}-EMP\"\niot_ssid_name = f\"{agency_id}-IOT\"\n\nprint(\"org_name:\", org_name)\nprint(\"guest_ssid_name:\", guest_ssid_name)\nprint(\"employee_ssid_name:\", employee_ssid_name)\nprint(\"iot_ssid_name:\", iot_ssid_name)\n",
          "script_queries": [
            {
              "script_query": "org_name",
              "script_query_name": "org_name",
              "script_query_type": "string"
            },
            {
              "script_query": "guest_ssid_name",
              "script_query_name": "guest_ssid_name",
              "script_query_type": "string"
            },
            {
              "script_query": "employee_ssid_name",
              "script_query_name": "employee_ssid_name",
              "script_query_type": "string"
            },
            {
              "script_query": "iot_ssid_name",
              "script_query_name": "iot_ssid_name",
              "script_query_type": "string"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02SXUORGCHECK2AaBbCcDdEeFfGgHhIiJjKk",
        "name": "HTTP Request",
        "title": "Create Organization",
        "type": "web-service.http_request",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "allow_auto_redirect": true,
          "allow_headers_redirect": false,
          "body": "{\n  \"name\": \"$activity.definition_activity_02SXUBUILDNAMES1AaBbCcDdEeFfGgHhIiJj.output.script_queries.org_name$\"\n}",
          "content_type": "application/json",
          "continue_on_error_status_code": false,
          "continue_on_failure": false,
          "custom_headers": [
            {
              "name": "X-Cisco-Meraki-API-Key",
              "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
            }
          ],
          "description": "Create a new Meraki organization.",
          "display_name": "Create Organization",
          "method": "POST",
          "relative_url": "api/v1/organizations",
          "runtime_user": {
            "target_default": true
          },
          "skip_execution": false,
          "target": {
            "use_workflow_target": true
          }
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02SXUORGJSON3LlMmNnOoPpQqRrSsTtUuVvWw",
        "name": "JSONPath Query",
        "title": "Extract Organization ID",
        "type": "corejava.jsonpathquery",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "description": "Extract organization id from the response.",
          "display_name": "Extract Organization ID",
          "input_json": "$activity.definition_activity_02SXUORGCHECK2AaBbCcDdEeFfGgHhIiJjKk.output.response_body$",
          "jsonpath_queries": [
            {
              "jsonpath_query": "['id']",
              "jsonpath_query_name": "organization_id",
              "jsonpath_query_type": "string",
              "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
            }
          ],
          "skip_execution": false
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02SXUORGSET4XxYyZzAaBbCcDdEeFfGgHhIi",
        "name": "Set Variables",
        "title": "Set Organization ID",
        "type": "core.set_multiple_variables",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "display_name": "Set Organization ID",
          "skip_execution": false,
          "variables_to_update": [
            {
              "variable_to_update": "$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.output.variable_workflow_02SXUORGID13tU7vW8xY9zA0bC1dE2fG3$",
              "variable_value_new": "$activity.definition_activity_02SXUORGJSON3LlMmNnOoPpQqRrSsTtUuVvWw.output.jsonpath_queries.organization_id$"
            }
          ]
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02SXUSITESREAD5UuVvWwXxYyZzAaBbCcDdEeFf",
        "name": "Read Table from JSON",
        "title": "Read Sites JSON",
        "type": "corejava.read_table_from_json",
        "base_type": "activity",
        "properties": {
          "action_timeout": 180,
          "continue_on_failure": false,
          "description": "Parse sites input into a table.",
          "display_name": "Read Sites JSON",
          "input_json": "$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.input.variable_workflow_02SXUSITES4sT5uV6wX7yZ8aB9cD0eF1$",
          "jsonpath_query": "$",
          "persist_output": false,
          "populate_columns": false,
          "skip_execution": false,
          "table_columns": [
            {
              "column_name": "site_name",
              "column_type": "string"
            },
            {
              "column_name": "time_zone",
              "column_type": "string"
            },
            {
              "column_name": "product_types",
              "column_type": "string"
            }
          ]
        },
        "object_type": "definition_activity"
      },
      {
        "unique_name": "definition_activity_02SXUSITESLOOP6GgHhIiJjKkLlMmNnOoPpQqRr",
        "name": "For Each",
        "title": "For Each Site",
        "type": "logic.for_each",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "description": "Create a network and apply configs per site.",
          "display_name": "For Each Site",
          "skip_execution": false,
          "source_array": "$activity.definition_activity_02SXUSITESREAD5UuVvWwXxYyZzAaBbCcDdEeFf.output.read_table_from_json$"
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02SXUNETNAME7SsTtUuVvWwXxYyZzAaBbCc",
            "name": "Execute Python Script",
            "title": "Build Network Name",
            "type": "python3.script",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": false,
              "description": "Use the site name as the network name.",
              "display_name": "Build Network Name",
              "script": "site_name = $activity.definition_activity_02SXUSITESLOOP6GgHhIiJjKkLlMmNnOoPpQqRr.input.source_array[@].site_name$\n\nnetwork_name = site_name\n\nprint(\"network_name:\", network_name)\n",
              "script_queries": [
                {
                  "script_query": "network_name",
                  "script_query_name": "network_name",
                  "script_query_type": "string"
                }
              ],
              "skip_execution": false
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUNETCREATE8DdEeFfGgHhIiJjKkLlMmNn",
            "name": "HTTP Request",
            "title": "Create Network",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"name\": \"$activity.definition_activity_02SXUNETNAME7SsTtUuVvWwXxYyZzAaBbCc.output.script_queries.network_name$\",\n  \"productTypes\": $activity.definition_activity_02SXUSITESLOOP6GgHhIiJjKkLlMmNnOoPpQqRr.input.source_array[@].product_types$,\n  \"timeZone\": \"$activity.definition_activity_02SXUSITESLOOP6GgHhIiJjKkLlMmNnOoPpQqRr.input.source_array[@].time_zone$\"\n}",
              "content_type": "application/json",
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "X-Cisco-Meraki-API-Key",
                  "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                }
              ],
              "description": "Create a new Meraki network in the organization.",
              "display_name": "Create Network",
              "method": "POST",
              "relative_url": "api/v1/organizations/$activity.definition_activity_02SXUORGJSON3LlMmNnOoPpQqRrSsTtUuVvWw.output.jsonpath_queries.organization_id$/networks",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz",
            "name": "JSONPath Query",
            "title": "Extract Network ID",
            "type": "corejava.jsonpathquery",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": false,
              "description": "Extract network id from the response.",
              "display_name": "Extract Network ID",
              "input_json": "$activity.definition_activity_02SXUNETCREATE8DdEeFfGgHhIiJjKkLlMmNn.output.response_body$",
              "jsonpath_queries": [
                {
                  "jsonpath_query": "['id']",
                  "jsonpath_query_name": "network_id",
                  "jsonpath_query_type": "string",
                  "zdate_type_format": "yyyy-MM-dd'T'HH:mm:ssZ"
                }
              ],
              "skip_execution": false
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUNETSET10AaBbCcDdEeFfGgHhIiJjKk",
            "name": "Set Variables",
            "title": "Set Network ID",
            "type": "core.set_multiple_variables",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "display_name": "Set Network ID",
              "skip_execution": false,
              "variables_to_update": [
                {
                  "variable_to_update": "$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.output.variable_workflow_02SXUNETID14tU7vW8xY9zA0bC1dE2fG3$",
                  "variable_value_new": "$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$"
                }
              ]
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUGUESTSSID11LlMmNnOoPpQqRrSsTtUu",
            "name": "HTTP Request",
            "title": "Configure Guest SSID",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"name\": \"$activity.definition_activity_02SXUBUILDNAMES1AaBbCcDdEeFfGgHhIiJj.output.script_queries.guest_ssid_name$\",\n  \"enabled\": true,\n  \"authMode\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUGUESTA9zA9bC0dE1fG2hI3jK4lM5nO$\",\n  \"splashPage\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUGUESTS2lM4nO5pQ6rS7tU8vW9xY0zA1$\",\n  \"visible\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUGUESTV5tU7vW8xY9zA0bC1dE2fG3$\n}",
              "content_type": "application/json",
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "X-Cisco-Meraki-API-Key",
                  "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                }
              ],
              "description": "Update Guest SSID settings for the network.",
              "display_name": "Configure Guest SSID",
              "method": "PUT",
              "relative_url": "api/v1/networks/$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$/wireless/ssids/$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUGUESTNUM6fG6hI7jK8lM9nO0pQ1rS2tU$",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUEMPSSID12AaBbCcDdEeFfGgHhIiJjKk",
            "name": "HTTP Request",
            "title": "Configure Employees SSID",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"name\": \"$activity.definition_activity_02SXUBUILDNAMES1AaBbCcDdEeFfGgHhIiJj.output.script_queries.employee_ssid_name$\",\n  \"enabled\": true,\n  \"authMode\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUEMPLOYEEA0pQ1rS2tU3vW4xY5zA6bC$\",\n  \"splashPage\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUEMPLOYEESPLASH3mN5oP6qR7sT8uV9wX0yZ1aB2$\",\n  \"visible\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUEMPLOYEEVIS6tU7vW8xY9zA0bC1dE2fG3$\n}",
              "content_type": "application/json",
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "X-Cisco-Meraki-API-Key",
                  "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                }
              ],
              "description": "Update Employees SSID settings for the network.",
              "display_name": "Configure Employees SSID",
              "method": "PUT",
              "relative_url": "api/v1/networks/$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$/wireless/ssids/$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUEMPLOYEENUM7vW7xY8zA9bC0dE1fG2hI3$",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUIOTSSID13LlMmNnOoPpQqRrSsTtUu",
            "name": "HTTP Request",
            "title": "Configure IoT SSID",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"name\": \"$activity.definition_activity_02SXUBUILDNAMES1AaBbCcDdEeFfGgHhIiJj.output.script_queries.iot_ssid_name$\",\n  \"enabled\": true,\n  \"authMode\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUIOTA1qR1sT2uV3wX4yZ5aB6cD7eF$\",\n  \"splashPage\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUIOTSPLASH4pQ6rS7tU8vW9xY0zA1bC2dE3$\",\n  \"visible\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUIOTVIS7tU7vW8xY9zA0bC1dE2fG3$\n}",
              "content_type": "application/json",
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "X-Cisco-Meraki-API-Key",
                  "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                }
              ],
              "description": "Update IoT SSID settings for the network.",
              "display_name": "Configure IoT SSID",
              "method": "PUT",
              "relative_url": "api/v1/networks/$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$/wireless/ssids/$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUIOTNUM8jK8lM9nO0pQ1rS2tU3vW4xY$",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUGUESTSPLASH14DdEeFfGgHhIiJjKk",
            "name": "HTTP Request",
            "title": "Configure Guest Splash Settings",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"useSplashUrl\": true,\n  \"splashUrl\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUISEURL8tU7vW8xY9zA0bC1dE2fG3$\",\n  \"useRedirectUrl\": false,\n  \"splashTimeout\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUSPLASHTIME9tU7vW8xY9zA0bC1dE2fG3$,\n  \"blockAllTrafficBeforeSignOn\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUBLOCK10tU7vW8xY9zA0bC1dE2fG3$,\n  \"controllerDisconnectionBehavior\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUDISCONNECT11tU7vW8xY9zA0bC1dE2fG3$\"\n}",
              "content_type": "application/json",
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "X-Cisco-Meraki-API-Key",
                  "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                }
              ],
              "description": "Apply Guest splash settings for ISE.",
              "display_name": "Configure Guest Splash Settings",
              "method": "PUT",
              "relative_url": "api/v1/networks/$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$/wireless/ssids/$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUGUESTNUM6fG6hI7jK8lM9nO0pQ1rS2tU$/splash/settings",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUEMPSPLASH15DdEeFfGgHhIiJjKk",
            "name": "HTTP Request",
            "title": "Configure Employees Splash Settings",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"useSplashUrl\": false,\n  \"useRedirectUrl\": false,\n  \"splashTimeout\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUSPLASHTIME9tU7vW8xY9zA0bC1dE2fG3$,\n  \"blockAllTrafficBeforeSignOn\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUBLOCK10tU7vW8xY9zA0bC1dE2fG3$,\n  \"controllerDisconnectionBehavior\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUDISCONNECT11tU7vW8xY9zA0bC1dE2fG3$\"\n}",
              "content_type": "application/json",
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "X-Cisco-Meraki-API-Key",
                  "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                }
              ],
              "description": "Apply Employees splash settings.",
              "display_name": "Configure Employees Splash Settings",
              "method": "PUT",
              "relative_url": "api/v1/networks/$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$/wireless/ssids/$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUEMPLOYEENUM7vW7xY8zA9bC0dE1fG2hI3$/splash/settings",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUIOTSPLASH16DdEeFfGgHhIiJjKk",
            "name": "HTTP Request",
            "title": "Configure IoT Splash Settings",
            "type": "web-service.http_request",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "allow_auto_redirect": true,
              "allow_headers_redirect": false,
              "body": "{\n  \"useSplashUrl\": false,\n  \"useRedirectUrl\": false,\n  \"splashTimeout\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUSPLASHTIME9tU7vW8xY9zA0bC1dE2fG3$,\n  \"blockAllTrafficBeforeSignOn\": $workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUBLOCK10tU7vW8xY9zA0bC1dE2fG3$,\n  \"controllerDisconnectionBehavior\": \"$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUDISCONNECT11tU7vW8xY9zA0bC1dE2fG3$\"\n}",
              "content_type": "application/json",
              "continue_on_error_status_code": false,
              "continue_on_failure": false,
              "custom_headers": [
                {
                  "name": "X-Cisco-Meraki-API-Key",
                  "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                }
              ],
              "description": "Apply IoT splash settings.",
              "display_name": "Configure IoT Splash Settings",
              "method": "PUT",
              "relative_url": "api/v1/networks/$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$/wireless/ssids/$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXUIOTNUM8jK8lM9nO0pQ1rS2tU3vW4xY$/splash/settings",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "use_workflow_target": true
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUVLANREAD17AaBbCcDdEeFfGgHhIiJj",
            "name": "Read Table from JSON",
            "title": "Read VLANs JSON",
            "type": "corejava.read_table_from_json",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": false,
              "description": "Parse VLANs input into a table.",
              "display_name": "Read VLANs JSON",
              "input_json": "$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.input.variable_workflow_02SXUVLANS5fG6hI7jK8lM9nO0pQ1rS2tU$",
              "jsonpath_query": "$",
              "persist_output": false,
              "populate_columns": false,
              "skip_execution": false,
              "table_columns": [
                {
                  "column_name": "vlan_id",
                  "column_type": "string"
                },
                {
                  "column_name": "vlan_name",
                  "column_type": "string"
                },
                {
                  "column_name": "subnet",
                  "column_type": "string"
                },
                {
                  "column_name": "appliance_ip",
                  "column_type": "string"
                },
                {
                  "column_name": "dhcp_handling",
                  "column_type": "string"
                },
                {
                  "column_name": "reserved_ip_ranges",
                  "column_type": "string"
                }
              ]
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXUVLANLOOP18KkLlMmNnOoPpQqRrSsTt",
            "name": "For Each",
            "title": "For Each VLAN",
            "type": "logic.for_each",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "description": "Create VLANs for the network.",
              "display_name": "For Each VLAN",
              "skip_execution": false,
              "source_array": "$activity.definition_activity_02SXUVLANREAD17AaBbCcDdEeFfGgHhIiJj.output.read_table_from_json$"
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02SXUVLANCREATE19UuVvWwXxYyZzAaBbCc",
                "name": "HTTP Request",
                "title": "Create VLAN",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "body": "{\n  \"id\": $activity.definition_activity_02SXUVLANLOOP18KkLlMmNnOoPpQqRrSsTt.input.source_array[@].vlan_id$,\n  \"name\": \"$activity.definition_activity_02SXUVLANLOOP18KkLlMmNnOoPpQqRrSsTt.input.source_array[@].vlan_name$\",\n  \"subnet\": \"$activity.definition_activity_02SXUVLANLOOP18KkLlMmNnOoPpQqRrSsTt.input.source_array[@].subnet$\",\n  \"applianceIp\": \"$activity.definition_activity_02SXUVLANLOOP18KkLlMmNnOoPpQqRrSsTt.input.source_array[@].appliance_ip$\",\n  \"dhcpHandling\": \"$activity.definition_activity_02SXUVLANLOOP18KkLlMmNnOoPpQqRrSsTt.input.source_array[@].dhcp_handling$\",\n  \"reservedIpRanges\": $activity.definition_activity_02SXUVLANLOOP18KkLlMmNnOoPpQqRrSsTt.input.source_array[@].reserved_ip_ranges$\n}",
                  "content_type": "application/json",
                  "continue_on_error_status_code": false,
                  "continue_on_failure": false,
                  "custom_headers": [
                    {
                      "name": "X-Cisco-Meraki-API-Key",
                      "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                    }
                  ],
                  "description": "Create a VLAN on the appliance.",
                  "display_name": "Create VLAN",
                  "method": "POST",
                  "relative_url": "api/v1/networks/$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$/appliance/vlans",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              }
            ]
          },
          {
            "unique_name": "definition_activity_02SXURFREAD20VvWwXxYyZzAaBbCcDdEeFf",
            "name": "Read Table from JSON",
            "title": "Read RF Profiles JSON",
            "type": "corejava.read_table_from_json",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "continue_on_failure": false,
              "description": "Parse RF profiles defaults into a table.",
              "display_name": "Read RF Profiles JSON",
              "input_json": "$workflow.definition_workflow_02SXUJEPXUX900xvB8Y8xnpBhafIT7uWW51.local.variable_workflow_02SXURFPROFILES12tU7vW8xY9zA0bC1dE2fG3$",
              "jsonpath_query": "$",
              "persist_output": false,
              "populate_columns": false,
              "skip_execution": false,
              "table_columns": [
                {
                  "column_name": "rf_name",
                  "column_type": "string"
                },
                {
                  "column_name": "rf_ap_tags",
                  "column_type": "string"
                }
              ]
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02SXURFLOOP21AaBbCcDdEeFfGgHhIiJj",
            "name": "For Each",
            "title": "For Each RF Profile",
            "type": "logic.for_each",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "description": "Create RF profiles and associate AP tags.",
              "display_name": "For Each RF Profile",
              "skip_execution": false,
              "source_array": "$activity.definition_activity_02SXURFREAD20VvWwXxYyZzAaBbCcDdEeFf.output.read_table_from_json$"
            },
            "object_type": "definition_activity",
            "actions": [
              {
                "unique_name": "definition_activity_02SXURFCREATE22BbCcDdEeFfGgHhIiJjKk",
                "name": "HTTP Request",
                "title": "Create RF Profile",
                "type": "web-service.http_request",
                "base_type": "activity",
                "properties": {
                  "action_timeout": 180,
                  "allow_auto_redirect": true,
                  "allow_headers_redirect": false,
                  "body": "{\n  \"name\": \"$activity.definition_activity_02SXURFLOOP21AaBbCcDdEeFfGgHhIiJj.input.source_array[@].rf_name$\",\n  \"apTags\": $activity.definition_activity_02SXURFLOOP21AaBbCcDdEeFfGgHhIiJj.input.source_array[@].rf_ap_tags$\n}",
                  "content_type": "application/json",
                  "continue_on_error_status_code": false,
                  "continue_on_failure": false,
                  "custom_headers": [
                    {
                      "name": "X-Cisco-Meraki-API-Key",
                      "value": "$env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2.env.variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2$"
                    }
                  ],
                  "description": "Create a wireless RF profile for the network.",
                  "display_name": "Create RF Profile",
                  "method": "POST",
                  "relative_url": "api/v1/networks/$activity.definition_activity_02SXUNETJSON9OoPpQqRrSsTtUuVvWwXxYyZz.output.jsonpath_queries.network_id$/wireless/rfProfiles",
                  "runtime_user": {
                    "target_default": true
                  },
                  "skip_execution": false,
                  "target": {
                    "use_workflow_target": true
                  }
                },
                "object_type": "definition_activity"
              }
            ]
          }
        ]
      }
    ],
    "categories": [
      "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
    ]
  },
  "variables": {
    "variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2": {
      "unique_name": "variable_02SXUMERAKIAPIKEY0n1p2q3r4s5t6u7v8w9x0y1z2",
      "properties": {
        "value": "",
        "scope": "env",
        "name": "NMSv2 - MERAKI API KEY",
        "type": "datatype.secure_string",
        "is_required": false,
        "display_on_wizard": false,
        "is_invisible": false,
        "variable_string_format": ""
      },
      "object_type": "variable"
    }
  },
  "atomic_workflows": [],
  "dependent_workflows": []
}
